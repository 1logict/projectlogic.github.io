<!DOCTYPE html>
<html>
  <head>
    <title>Mini AI</title>
    <style>
      body { font-family: Arial; background: #111; color: #fff; text-align: center; padding: 50px; }
      input, button { padding: 10px; font-size: 16px; margin: 10px; width: 300px; }
      #output { margin-top: 30px; background: #222; padding: 20px; border-radius: 10px; }
    </style>
  </head>
  <body>
    <h1>ðŸ§  GPT-2 AI in Browser</h1>
    <input id="prompt" placeholder="Ask something..." />
    <br>
    <button onclick="runAI()">Run</button>
    <div id="output">Loading model...</div>

    <script type="module">
      import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.6.0';

      let generator;
      const output = document.getElementById("output");

      async function loadModel() {
        output.innerText = "ðŸ”„ Loading GPT-2 model (please wait 10â€“20 sec)...";
        generator = await pipeline('text-generation', 'Xenova/gpt2');
        output.innerText = "âœ… Model loaded! Enter your prompt.";
      }

      async function runAI() {
        const prompt = document.getElementById("prompt").value;
        if (!prompt || !generator) return;

        output.innerText = "ðŸ¤– Thinking...";
        const result = await generator(prompt, { max_new_tokens: 60 });
        output.innerText = result[0].generated_text;
      }

      loadModel();
    </script>
  </body>
</html>
